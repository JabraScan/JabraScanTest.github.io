<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Redirigiendo...</title>

    <!-- ğŸ•µï¸ Evita que los motores de bÃºsqueda indexen esta pÃ¡gina de error -->
    <meta name="robots" content="noindex" />

    <!-- ğŸ¨ Estilos bÃ¡sicos para mostrar el mensaje de redirecciÃ³n -->
    <style>
      body {
        font-family: sans-serif;
        text-align: center;
        padding: 2em;
      }
    </style>
  </head>
  <body>
    <p>Redirigiendo a la aplicaciÃ³n...</p>

    <script>
      // ğŸ§­ Extrae el nombre del repositorio desde la URL
      // Ejemplo: /MiRepo/alguna/ruta â†’ repoName = "MiRepo"
      const repoName = window.location.pathname.split('/')[1];

      // ğŸ” Obtiene la ruta completa sin barras iniciales
      const fullPath = window.location.pathname.replace(/^\/+/, "");

      // ğŸ§© Elimina el nombre del repositorio para obtener la ruta relativa interna
      const rutaRelativa = fullPath.startsWith(repoName + "/")
        ? fullPath.slice(repoName.length + 1)
        : fullPath;

      // ğŸ›‘ Detecta si ya estÃ¡s en index.html o si ya hay parÃ¡metro redirect
      const yaEnIndex = window.location.pathname.endsWith("index.html");
      const tieneRedirect = window.location.search.includes("redirect=");

      // ğŸš« Evita redirigir si ya estÃ¡s en index.html con redirect (previene bucles infinitos)
      if (!yaEnIndex && !tieneRedirect) {
        // ğŸš€ Redirige a index.html con la ruta original como parÃ¡metro
        window.location.replace(`/${repoName}/index.html?redirect=${encodeURIComponent(rutaRelativa)}`);
      }
    </script>
  </body>
</html>
